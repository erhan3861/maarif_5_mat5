<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matematik Korsanƒ± - G√∂rev 6</title>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap" rel="stylesheet">
    <style>
        /* --- GENEL AYARLAR (HACKER TEMASI) --- */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Share Tech Mono', monospace;
            background-color: #000;
            /* Matrix Yaƒümuru Efekti (Statik) */
            background-image: linear-gradient(0deg, transparent 24%, rgba(0, 255, 0, .05) 25%, rgba(0, 255, 0, .05) 26%, transparent 27%, transparent 74%, rgba(0, 255, 0, .05) 75%, rgba(0, 255, 0, .05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(0, 255, 0, .05) 25%, rgba(0, 255, 0, .05) 26%, transparent 27%, transparent 74%, rgba(0, 255, 0, .05) 75%, rgba(0, 255, 0, .05) 76%, transparent 77%, transparent);
            background-size: 30px 30px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #0f0;
            overflow: hidden;
            user-select: none;
        }

        /* --- √úST BUTONLAR --- */
        .top-bar {
            position: absolute; top: 20px; width: 95%;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 50; pointer-events: none;
        }
        .right-group { display: flex; gap: 10px; pointer-events: auto; }
        
        .top-btn {
            padding: 8px 20px; border-radius: 2px; border: 1px solid #0f0;
            font-family: 'VT323', monospace; font-size: 1.2rem; letter-spacing: 2px;
            text-decoration: none; cursor: pointer; transition: all 0.2s;
            display: flex; align-items: center; justify-content: center;
            pointer-events: auto; background: #000; color: #0f0;
            box-shadow: 0 0 5px #0f0; text-transform: uppercase;
        }

        .top-btn:hover { background: #0f0; color: #000; box-shadow: 0 0 15px #0f0; }

        /* --- OYUN KONSOLU (TERMƒ∞NAL) --- */
        .terminal-window {
            width: 90%; max-width: 800px;
            height: 80vh;
            background: #000;
            border: 2px solid #0f0;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.4);
            display: flex; flex-direction: column;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        /* CRT Tarama √áizgisi Efekti */
        .terminal-window::before {
            content: " "; display: block; position: absolute; top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2; background-size: 100% 2px, 3px 100%; pointer-events: none;
        }

        /* Terminal Header */
        .term-header {
            border-bottom: 1px dashed #0f0; padding-bottom: 10px; margin-bottom: 20px;
            display: flex; justify-content: space-between; font-size: 1rem; opacity: 0.8;
        }

        /* Ana Ekran */
        .screen-content {
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 3;
        }

        .lock-icon { font-size: 4rem; margin-bottom: 20px; }
        .unlocked { color: #0f0; animation: pulse 1s infinite; }
        .locked { color: #f00; }

        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

        /* Denklem G√∂sterimi */
        .equation-box {
            font-size: 2.5rem; text-align: center; margin-bottom: 40px;
            text-shadow: 0 0 10px #0f0; min-height: 80px;
            display: flex; align-items: center; justify-content: center;
        }

        /* Butonlar */
        .action-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 30px; width: 100%; max-width: 600px;
        }

        .hack-btn {
            background: transparent; border: 2px solid; padding: 20px;
            font-family: 'Share Tech Mono', monospace; font-size: 1.5rem; cursor: pointer;
            transition: all 0.2s; text-transform: uppercase;
        }

        .btn-true { border-color: #0f0; color: #0f0; }
        .btn-true:hover { background: #0f0; color: #000; box-shadow: 0 0 20px #0f0; }

        .btn-false { border-color: #f00; color: #f00; }
        .btn-false:hover { background: #f00; color: #000; box-shadow: 0 0 20px #f00; }

        /* Progress Bar */
        .progress-container {
            width: 100%; height: 20px; border: 1px solid #0f0; margin-top: 30px; position: relative;
        }
        .progress-fill {
            height: 100%; background: #0f0; width: 0%; transition: width 0.5s;
            box-shadow: 0 0 10px #0f0;
        }

        /* Feedback Overlay */
        .feedback-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); display: none;
            flex-direction: column; align-items: center; justify-content: center;
            z-index: 100; text-align: center;
        }

        .hack-msg { font-size: 3rem; margin-bottom: 10px; font-weight: bold; }
        .access-granted { color: #0f0; text-shadow: 0 0 20px #0f0; }
        .access-denied { color: #f00; text-shadow: 0 0 20px #f00; }

        .next-btn {
            margin-top: 30px; padding: 15px 50px; background: #0f0; color: #000;
            border: none; cursor: pointer; font-weight: bold; font-family: 'VT323'; font-size: 1.5rem;
            box-shadow: 0 0 20px #0f0;
        }

        /* ≈ûifre Kartƒ± */
        .secret-card {
            border: 4px solid #0f0; padding: 30px; margin-top: 20px; display: none;
            background: rgba(0, 255, 0, 0.1); box-shadow: 0 0 30px #0f0;
        }
        .secret-letter { font-size: 6rem; color: #0f0; font-weight: 900; display: block; text-shadow: 0 0 10px #0f0; letter-spacing: 5px;}

        /* KODLAMA MODAL */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.95); z-index: 1000;
            display: none; align-items: center; justify-content: center;
        }
        .modal-card {
            background: #000; padding: 30px; border: 2px solid #0f0; max-width: 500px;
            text-align: center; color: #0f0; position: relative; box-shadow: 0 0 30px #0f0;
        }
        .close-btn { position: absolute; top: 10px; right: 15px; font-size: 1.5rem; cursor: pointer; border: none; background: none; color: #0f0; }
        .action-link { display: block; background: #0f0; color: #000; padding: 12px; text-decoration: none; margin: 10px 0; font-weight: bold; font-family: 'VT323'; font-size: 1.2rem;}

        @media (max-width: 600px) {
            .equation-box { font-size: 1.5rem; }
            .action-grid { grid-template-columns: 1fr; gap: 15px; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <a href="index.html" class="top-btn home-btn">‚åÇ ANA MEN√ú</a>
        <div class="right-group">
            <button onclick="openCodeModal()" class="top-btn code-btn">‚å® KODLA</button>
            <button onclick="toggleFullScreen()" id="full-btn" class="top-btn full-btn">‚õ∂ TAM EKRAN</button>
        </div>
    </div>

    <div class="terminal-window">
        <div class="term-header">
            <span>SYS.ADMIN://MAT_5.2.1/FIREWALL</span>
            <span>STATUS: <span id="status-text" style="color:#f00;">LOCKED</span></span>
        </div>

        <div class="screen-content">
            <div class="lock-icon locked">üîí</div>
            <div style="font-size:0.9rem; color:#aaa; margin-bottom:10px;">DENKLEM DOƒûRULAMASI GEREKƒ∞YOR...</div>
            
            <div class="equation-box" id="equation">
                Y√úKLENƒ∞YOR...
            </div>

            <div class="action-grid">
                <button class="hack-btn btn-true" onclick="checkAnswer(true)">[ DOƒûRU ]</button>
                <button class="hack-btn btn-false" onclick="checkAnswer(false)">[ HATALI ]</button>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-fill" id="progress"></div>
        </div>

        <div class="feedback-overlay" id="feedback">
            <div id="fb-icon" style="font-size:5rem; margin-bottom:10px;"></div>
            <div class="hack-msg" id="fb-msg"></div>
            <p id="fb-hint" style="color:#fff; font-size:1.1rem; max-width:600px;"></p>
            
            <div class="secret-card" id="secret-card">
                <div style="font-size:1rem; letter-spacing:2px; color:#0f0;">Gƒ∞ZLƒ∞ ≈ûƒ∞FRE TAMAMLANDI:</div>
                <span class="secret-letter">ƒ∞K</span>
                <div style="font-size:1.5rem; color:#fff; margin-top:10px;">E - ≈û - ƒ∞ - T - L - ƒ∞K</div>
            </div>

            <button class="next-btn" id="next-btn" onclick="nextLevel()">SONRAKƒ∞ KATMAN ‚ñ∂</button>
        </div>
    </div>

    <div class="modal-overlay" id="codeModal">
        <div class="modal-card">
            <button class="close-btn" onclick="closeCodeModal()">√ó</button>
            <h2 style="color:#0f0;">üíª Boolean Mantƒ±ƒüƒ±</h2>
            <p>Bilgisayarlar e≈üitliƒüi b√∂yle kontrol eder:</p>
            <div style="background:#111; padding:15px; border:1px solid #333; font-family:monospace; text-align:left; color:#0f0; margin-bottom:10px;">
                bool check_equality(a, b) {<br>
                &nbsp;&nbsp;return a == b; // True or False<br>
                }
            </div>
            <a href="https://github.com/erhan3861/maarif_5_mat_2/blob/main/oyun6.html" target="_blank" class="action-link">üêô GitHub Kaynak Kodu</a>
            <a href="https://app.talent14.com/codeEditor" target="_blank" class="action-link" style="background:#fff; color:#000;">‚ú® Talent14 Edit√∂r√º</a>
        </div>
    </div>

    <script>
        // --- TAM EKRAN ---
        function toggleFullScreen() {
            const btn = document.getElementById('full-btn');
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
                btn.innerHTML = "‚õ∂ K√ú√á√úLT";
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                    btn.innerHTML = "‚õ∂ TAM EKRAN";
                }
            }
        }

        // --- OYUN VERƒ∞LERƒ∞ (ƒ∞≈ülem √ñzellikleri Kontrol√º) ---
        const levels = [
            {
                eq: "15 + 28 = 28 + 15",
                isTrue: true,
                hint: "Deƒüi≈üme √ñzelliƒüi: Toplananlarƒ±n yeri deƒüi≈üse de sonu√ß deƒüi≈ümez."
            },
            {
                eq: "(4 x 5) x 3 = 4 x (5 + 3)",
                isTrue: false,
                hint: "HATA! Birle≈üme √∂zelliƒüinde sadece parantez yeri deƒüi≈üir, i≈ülem (√ßarpma) deƒüi≈ümemeliydi."
            },
            {
                eq: "10 x (5 + 2) = (10 x 5) + (10 x 2)",
                isTrue: true,
                hint: "Daƒüƒ±lma √ñzelliƒüi: 10 sayƒ±sƒ± hem 5 ile hem 2 ile √ßarpƒ±lƒ±r."
            },
            {
                eq: "20 + 5 = 25  ise  20 + 5 + 3 = 25 + 4",
                isTrue: false,
                hint: "E≈üitliƒüin Korunumu ƒ∞hlali! Sol tarafa 3 eklendi, saƒüa 4 eklendi. Denge bozulur."
            },
            {
                eq: "8 x (20 - 2) = (8 x 20) - (8 x 2)",
                isTrue: true,
                hint: "√áarpmanƒ±n √áƒ±karma √úzerine Daƒüƒ±lma √ñzelliƒüi. Doƒüru kullanƒ±m."
            }
        ];

        let currentIdx = 0;

        window.onload = loadLevel;

        function loadLevel() {
            if (currentIdx >= levels.length) return;

            const data = levels[currentIdx];
            
            // Glitch efektiyle metni yaz
            const eqBox = document.getElementById('equation');
            eqBox.innerText = data.eq;
            eqBox.style.animation = "none";
            eqBox.offsetHeight; /* trigger reflow */
            eqBox.style.animation = "glitch 0.5s";

            document.getElementById('feedback').style.display = 'none';
            
            // Progress Bar
            const percent = (currentIdx / levels.length) * 100;
            document.getElementById('progress').style.width = percent + "%";
        }

        function checkAnswer(userChoice) {
            const data = levels[currentIdx];
            
            if (userChoice === data.isTrue) {
                // Doƒüru
                showFeedback(true, data.hint);
            } else {
                // Yanlƒ±≈ü
                showFeedback(false, "Sistem hatasƒ± tespit edildi. " + data.hint);
            }
        }

        function showFeedback(isSuccess, hintText) {
            const fb = document.getElementById('feedback');
            const icon = document.getElementById('fb-icon');
            const msg = document.getElementById('fb-msg');
            const hint = document.getElementById('fb-hint');
            const nextBtn = document.getElementById('next-btn');

            fb.style.display = 'flex';
            hint.innerText = hintText;

            if (isSuccess) {
                icon.innerText = "üîì";
                msg.innerText = "ERƒ∞≈ûƒ∞M ONAYLANDI";
                msg.className = "hack-msg access-granted";
                
                if (currentIdx === levels.length - 1) {
                    msg.innerText = "Sƒ∞STEM HACKLENDƒ∞!";
                    document.getElementById('secret-card').style.display = 'block';
                    document.getElementById('progress').style.width = "100%";
                    document.getElementById('status-text').innerText = "OPEN";
                    document.getElementById('status-text').style.color = "#0f0";
                    document.querySelector('.lock-icon').innerText = "üîì";
                    document.querySelector('.lock-icon').classList.add('unlocked');
                    nextBtn.innerText = "ANA MEN√úYE D√ñN";
                    nextBtn.onclick = () => window.location.href = 'index.html';
                } else {
                    document.getElementById('secret-card').style.display = 'none';
                    nextBtn.innerText = "SONRAKƒ∞ KATMAN ‚ñ∂";
                    nextBtn.onclick = nextLevel;
                }
            } else {
                icon.innerText = "üö´";
                msg.innerText = "ERƒ∞≈ûƒ∞M REDDEDƒ∞LDƒ∞";
                msg.className = "hack-msg access-denied";
                document.getElementById('secret-card').style.display = 'none';
                nextBtn.innerText = "TEKRAR DENE ‚Üª";
                nextBtn.onclick = () => { fb.style.display = 'none'; };
            }
        }

        function nextLevel() {
            currentIdx++;
            loadLevel();
        }

        // --- KODLAMA MODAL ---
        function openCodeModal() { document.getElementById('codeModal').style.display = 'flex'; }
        function closeCodeModal() { document.getElementById('codeModal').style.display = 'none'; }
        document.getElementById('codeModal').addEventListener('click', function(e) {
            if(e.target === this) closeCodeModal();
        });

    </script>

    <style>
        /* Glitch Animasyonu */
        @keyframes glitch {
            0% { text-shadow: 2px 0 red, -2px 0 blue; }
            25% { text-shadow: -2px 0 red, 2px 0 blue; }
            50% { text-shadow: 2px 0 red, -2px 0 blue; }
            75% { text-shadow: -2px 0 red, 2px 0 blue; }
            100% { text-shadow: none; }
        }
    </style>
</body>
</html>